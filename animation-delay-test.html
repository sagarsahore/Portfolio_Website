<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <title>Animation Delay Test - Sagar Sahore Portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Framework -->
    <link rel="stylesheet" href="assets/css/framework/bootstrap.min.css">
    
    <!-- Fonts -->
    <link rel="stylesheet" href="assets/fonts/Inter/style.css">
    
    <!-- Plugins -->
    <link rel="stylesheet" href="assets/css/vlt-plugins.min.css">
    
    <!-- Style -->
    <link rel="stylesheet" href="assets/css/vlt-main.min.css">
    
    <!-- Custom -->
    <link rel="stylesheet" href="assets/css/custom.css">
    
    <style>
        body { margin: 40px; font-family: Inter, sans-serif; }
        .test-section { 
            margin: 60px 0; 
            padding: 40px; 
            border: 2px solid #eee; 
            border-radius: 8px;
        }
        .status { 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 4px; 
            font-weight: bold;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.info { background: #cce7ff; color: #004085; }
        .performance-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-size: 14px;
        }
    </style>
</head>

<body class="animsition">
    <h1>Animation Delay Test</h1>
    <p>This page tests the animation delay improvements for mobile performance.</p>
    
    <div id="device-info" class="performance-info">
        <h3>Device Detection</h3>
        <div id="device-results">Loading...</div>
    </div>
    
    <div id="animation-status" class="performance-info">
        <h3>Animation System Status</h3>
        <div id="animation-results">Checking...</div>
    </div>
    
    <div class="test-section">
        <h2>Test 1: Immediate Animation Elements</h2>
        <p>These elements should show instant visual feedback (pre-animated state) and then smoothly animate:</p>
        
        <div class="vlt-animated-block vlt-fade-in-left" data-test="immediate-1">
            <div style="background: #007bff; color: white; padding: 20px; border-radius: 4px;">
                Left Animation Block
            </div>
        </div>
        
        <div class="vlt-animated-block vlt-fade-in-right" data-test="immediate-2">
            <div style="background: #28a745; color: white; padding: 20px; border-radius: 4px;">
                Right Animation Block
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 2: Scroll-triggered Animations</h2>
        <p>Scroll down to see these elements animate when they come into view:</p>
        
        <div style="height: 600px; background: linear-gradient(to bottom, #f8f9fa, #e9ecef); display: flex; align-items: center; justify-content: center;">
            <p>Scroll down to trigger animations below</p>
        </div>
        
        <div class="vlt-animated-block vlt-fade-in-bottom" data-test="scroll-1">
            <div style="background: #dc3545; color: white; padding: 20px; border-radius: 4px;">
                Bottom Animation Block (Scroll-triggered)
            </div>
        </div>
        
        <div class="vlt-animated-block vlt-fade-in-top" data-test="scroll-2">
            <div style="background: #ffc107; color: black; padding: 20px; border-radius: 4px;">
                Top Animation Block (Scroll-triggered)
            </div>
        </div>
    </div>
    
    <div id="test-results" class="performance-info">
        <h3>Test Results</h3>
        <div id="results-content">Running tests...</div>
    </div>

    <!-- Scripts -->
    <script src="assets/scripts/jquery-3.4.1.min.js"></script>
    <script src="assets/scripts/vlt-helpers.js"></script>
    <script src="assets/scripts/animsition.min.js"></script>
    <script src="app/controllers/_controller-preloader.js"></script>
    <script src="app/controllers/_controller-animated-block.js"></script>
    
    <script>
        $(document).ready(function() {
            var testResults = {
                deviceDetection: false,
                earlyInit: false,
                preAnimatedState: false,
                animationReady: false
            };
            
            // Test device detection
            setTimeout(function() {
                var deviceInfo = '';
                if (typeof VLTJS !== 'undefined' && VLTJS.isMobile) {
                    deviceInfo += '<strong>Mobile Detection:</strong> ' + (VLTJS.isMobile.any() ? 'Mobile' : 'Desktop') + '<br>';
                    deviceInfo += '<strong>Touch Support:</strong> ' + (VLTJS.isMobile.isTouch() ? 'Yes' : 'No') + '<br>';
                    deviceInfo += '<strong>Low Performance:</strong> ' + (VLTJS.isMobile.isLowPerformance() ? 'Yes' : 'No') + '<br>';
                    deviceInfo += '<strong>Reduce Animations:</strong> ' + (VLTJS.isMobile.shouldReduceAnimations() ? 'Yes' : 'No') + '<br>';
                    testResults.deviceDetection = true;
                } else {
                    deviceInfo = '<span style="color: red;">Device detection not available</span>';
                }
                $('#device-results').html(deviceInfo);
                
                // Test early initialization
                var classes = $('html').attr('class') || '';
                var earlyInitInfo = '<strong>HTML Classes:</strong> ' + classes + '<br>';
                if (classes.includes('vlt-is-mobile') || classes.includes('vlt-animations-ready')) {
                    earlyInitInfo += '<span style="color: green;">‚úì Early initialization working</span>';
                    testResults.earlyInit = true;
                } else {
                    earlyInitInfo += '<span style="color: orange;">‚ö† Early initialization may not be working</span>';
                }
                
                $('#animation-results').html(earlyInitInfo);
                
                updateTestResults();
            }, 100);
            
            // Test pre-animated state
            setTimeout(function() {
                var hasPreAnimated = $('.vlt-pre-animated').length > 0;
                testResults.preAnimatedState = hasPreAnimated;
                updateTestResults();
            }, 200);
            
            // Test animation ready state
            setTimeout(function() {
                var hasAnimationReady = $('html').hasClass('vlt-animations-ready');
                testResults.animationReady = hasAnimationReady;
                updateTestResults();
            }, 500);
            
            function updateTestResults() {
                var results = '<div class="status ' + (testResults.deviceDetection ? 'success' : 'info') + '">';
                results += 'üì± Device Detection: ' + (testResults.deviceDetection ? 'PASS' : 'PENDING') + '</div>';
                
                results += '<div class="status ' + (testResults.earlyInit ? 'success' : 'info') + '">';
                results += 'üöÄ Early Initialization: ' + (testResults.earlyInit ? 'PASS' : 'PENDING') + '</div>';
                
                results += '<div class="status ' + (testResults.preAnimatedState ? 'success' : 'info') + '">';
                results += 'üëÅÔ∏è Pre-animated State: ' + (testResults.preAnimatedState ? 'PASS' : 'PENDING') + '</div>';
                
                results += '<div class="status ' + (testResults.animationReady ? 'success' : 'info') + '">';
                results += '‚ú® Animation Ready: ' + (testResults.animationReady ? 'PASS' : 'PENDING') + '</div>';
                
                var allPassed = Object.values(testResults).every(Boolean);
                if (allPassed) {
                    results += '<div class="status success">üéâ All tests passed! Animation delay fixes are working correctly.</div>';
                }
                
                $('#results-content').html(results);
            }
        });
    </script>
</body>
</html>